<html>
	</head>
		<style>
			body {
				background: black;
				color: white;
				text-align: center;
				font-family: 'Gill Sans', sans;
				/*font-weight: bold;*/
				line-height: 100vh;
				margin: 0;
				padding: 0;
				cursor: none;
				transition: background 300ms;
			}
			.over {
				color: red;
			}
			#unity {
				font-size: 0;
				transition: color 300ms;
			}
			#unity > * {
				font-size: 50vmin;
			}
			body:not(.over) .warning {
				color: red;
			}
			.over {
				background: red;
				color: white;
			}
			.hours, .minutes, .seconds {
				display: inline-block;
				width: 1.2em;
			}
			.pi {
				font-family: 'Times New Roman', serif;
				font-weight: normal;
				font-style: italic;
			}
			.blink {
				opacity: 0;
			}
			.colon {
				transition: opacity 0.2s;
			}
		</style>
	</html>
	<body>
		<div id="unity">
			<span class="minutes" id="minutes"></span>
			<span class="colon" id="colon">:</span>
			<span class="seconds" id="seconds"></span>
		</div>
		<script type="text/javascript">
			var t, ti, totaltime = 3 * 60, fs = false;
			document.addEventListener('DOMContentLoaded', function () {
				document.body.addEventListener('click', function () {
					if (!fs) return;
					if (t) return stop();
					console.log('GO!');
					t = new Date().getTime() / 1000;
					ti = setInterval(tick, 10);
				});
				display(totaltime);
			});
			function display(time) {
				var el = document.getElementById('unity');
				i = Math.floor(time / 60);
				if (i < 0)
					el.classList.add('warning');
				time -= i * 60;
				document.getElementById('minutes').innerHTML =
					i < 0 ? ~i ? i + 1 : '\u22120' : i;
				document.getElementById('seconds').innerHTML =
					pad(Math.floor(i >= 0 ? time : (60 - time)));
			}
			var tis = [50, 100], tn = 0, ts = tis[0];
			function tick() {
				var timeleft = t - new Date().getTime() / 1000 + totaltime;
				if (timeleft < -60)
					document.body.classList.add('over');
				if (!--ts) {
					ts = tis[tn];
					tn = +!tn;
					document.getElementById('colon').classList.toggle('blink');
				}
				display(timeleft);
			}
			function pad(n) {
				return n < 10 ? '0' + n : n;
			}
			function stop() {
				if (ti)
					clearInterval(ti);
				ti = null;
				t = null;
				display(totaltime);
				document.getElementById('colon').classList.remove('blink');
				document.getElementById('unity').classList.remove('warning');
				document.body.classList.remove('over');
			}
			document.body.addEventListener("click", function() {
				var d = document.documentElement;
				setTimeout(function() {
					fs = true;
				}, 100);
				(d.requestFullscreen || d.mozRequestFullScreen || d.webkitRequestFullscreen)
					.call(d);
			});
		</script>
	</body>
</html>