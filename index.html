<html>
	</head>
	<script type="text/javascript" src="jquery.min.js"></script>
		<style>
			body {
				background: black;
				color: white;
				text-align: center;
				font-family: 'Gill Sans', sans;
				/*font-weight: bold;*/
				line-height: 100vh;
				margin: 0;
				padding: 0;
				cursor: none;
				transition: background 300ms;
			}
			.over {
				color: red;
			}
			#unity {
				font-size: 25vmin;
				transition: color 300ms;
			}
			body:not(.over) .warning {
				color: red;
			}
			.over {
				background: red;
				color: white;
			}
			.hours, .minutes, .seconds {
				display: inline-block;
				width: 1.2em;
			}
			.pi {
				font-family: 'Times New Roman', serif;
				font-weight: normal;
				font-style: italic;
			}
			.blink {
				opacity: 0;
			}
			.colon {
				transition: opacity 0.2s;
			}
		</style>
	</html>
	<body>
		<div id="unity">
			<span class="minutes"></span>
			<span class="colon">:</span>
			<span class="seconds"></span>
		</div>
		<script type="text/javascript">
			var t, totaltime = 15 ;//* 60;
			document.addEventListener('DOMContentLoaded', function () {
				document.body.addEventListener('click', function () {
					if (t) return;
					console.log('GO!');
					t = new Date().getTime() / 1000;
					setInterval(tick, 10);
				});
				display(totaltime);
			});
			function display(time) {
				var el = $('#unity');
				i = Math.floor(time / 60);
				if (i < 5)
					el.addClass('warning');
				time -= i * 60;
				el.find('.minutes').text(i < 0 ? ~i ? i + 1 : '\u22120' : i);
				el.find('.seconds').text(pad(Math.floor(i >= 0 ? time : (60 - time))));
			}
			var ti = [50, 100], tn = 0, ts = ti;
			function tick() {
				var timeleft = t - new Date().getTime() / 1000 + totaltime;
				if (timeleft < 0) {
					$('.blink').removeClass('blink');
					$('body').addClass('over');
				}
				if (!--ts) {
					ts = ti[tn];
					tn = +!tn;
					$('.colon').toggleClass('blink');
				}
				display(timeleft);
			}
			function pad(n) {
				return n < 10 ? '0' + n : n;
			}
		</script>
	</body>
</html>